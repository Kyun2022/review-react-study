# Next js で学ぶ React 講座

#### #1 React を学ぶには Next.js から入ると効率が良い理由。Next.js のセットアップから Vercel へのデプロイまで！

Next.js を使って React の講座を行う理由について説明します。React だけを使って構築することも可能ですが、React だけでは初心者にとって難しい点が多くあります。例えば、ルーティングの設定が特に難しい点です。Next.js では、ルーティングを簡単に設定できるほか、サーバーサイドレンダリングの実現が容易です。これらの点から、React を学ぶ上で Next.js を使用すると有益だと考えています。

Next.js には多くの機能がありますが、初心者にとってはすべてを覚えるのは難しいでしょう。そのため、最初は Next.js の基本的な機能を使って React を学ぶことに焦点を当てます。特に、イメージオプティマイゼーション、インターナショナリゼーション、API ルートなどの高度な機能は、初心者には必要ないと考えます。重要なのは、ファイルシステムルーティング、ビルトイン CSS サポート、ゼロコンフィグレーションの概念です。

セットアップの手順についても説明します。create-next-app を使用して新しい Next.js プロジェクトを始める方法、プロジェクトのファイル構造と主要なフォルダ（pages, public）の役割について解説します。また、dev、build、start スクリプトの違いや使用方法についても説明します。

この講座では、Next.js のプロジェクトを GitHub にプッシュし、Vercel を使ってデプロイする方法も取り上げます。これにより、実際の Web 開発のワークフローを体験し、プロジェクトをオンラインで公開する方法を学ぶことができます。

最後に、今後の講座で React と Next.js を使った具体的な開発プロジェクトについて学んでいく予定です。この講座は、React の基礎を学ぶ上での出発点となることを目指しています。

#### #2 コンポーネントの作り方と、Next.js での静的ページの作り方を学ぼう

今日は React の講座第 2 弾ということで、React の特徴の一つであるコンポーネントベースについて紹介します。また、Next.js のファイルシステムルーティングの一部を紹介したいと思います。React のホームページを見てみると、大きく 3 つの特徴が書かれています。一番左側が宣言的なビューで、これは最初は理解が難しいかもしれません。従来の JavaScript や jQuery では命令的なビューで DOM を操作していましたが、React では宣言的なビューを作っていきます。これによって、状態の変化を意識せずにデータを与えるだけで UI が変わり、メンテナンス性が向上します。

真ん中のコンポーネントベースは、今回詳しく紹介したいと思います。右側の「一度学習すればどこでも使える」という特徴は、React が Node を使ったサーバー上でも動くこと、また React Native を使うことでモバイルアプリケーションでも動くことを意味します。サーバーサイドレンダリングやモバイルアプリケーション開発にも React の知識が活用できます。

従来の開発方法と React での開発方法を比較すると、従来の開発では HTML ファイル内にヘッダー、サイドバー、メインコンテンツ、フッターなどを直接記述します。しかし、React ではこれらをコンポーネントごとに分け、JSX ファイルで管理します。これにより、UI の構築がより効率的になります。コンポーネントを使い回すことができるため、コードの記述量が減り、メンテナンス性が向上します。親から子へのデータの受け渡しによって同じコンポーネントで異なる表示をすることもできます。

Next.js を使用することで、ファイルシステムルーティングを簡単に実装できます。例えば、index.js という名前のファイルを変更すると、対応する URL のページが自動的に作成されます。このようにして、ページごとにファイルを管理することができます。

最後に、変更したコードを GitHub にプッシュし、Vercel で自動的にデプロイされる様子を紹介しました。これにより、コードの変更がリアルタイムで Web サイトに反映されることが確認できます。また、Git のブランチ概念や gitmoji を使用したコミットメッセージの書き方についても説明しました。次回の講座ではさらに深く React について学んでいきたいと思います。

#### #3 Props を使ってコンポーネントの表示を出し分け！Fragment は使うべき？

今日の React 講座では props について見ていきます。この props に関しては前回のコンポーネント化の知識が必要になりますので、前回のコンポーネント化を見ていない方はそちらから観ていただいて今回の講座に入ってください。今回は、前回コンポーネント化した部分と、インデックスページと about ページを props を使ってうまくコンポーネント化しようと思っています。コードを見ていきますと、インデックス js の下の方に行くと、こちらの部分とこの p タグで囲われた部分を props を使ってコンポーネント化していきます。まずはヘッドライン.js というファイルを作って、全部コピーして入らない部分を削除します。jsx 式には一つの親要素が必要ですが、リブタグで囲むと海藻が増えてしまいます。React Fragment という機能を使うことで解決できますが、個人的にはリブタグで囲むことを推奨しています。これにより、コンポーネントから見て来コンポーネントが一つの要素を返す方が変な混乱を生まずに済むからです。

親コンポーネントからヘッドラインコンポーネントを呼び出し、props を渡します。例えば、インデックス js ではタイトルに「インデックスページ」と設定し、about js では「about ページ」と設定します。ヘッドライン js で props のログを出してみると、親から渡されたデータが確認できます。props は何歳でも渡すことができますが、可読性の点でなるべく少なくすることをお勧めします。また、props の名前はプロパティーズから来ており、データを渡していることを意味します。

最後に、変更したコードを GitHub にプッシュし、Vercel でデプロイします。変更点を確認し、ヘッドライン部分をコンポーネント化するコミットを行います。その後、プッシュが完了し、Vercel でデプロイが完了することを確認します。次回の動画では、props の更なる深い部分について取り扱います。ご視聴ありがとうございました。次回の講座でお会いしましょう。バイバイ。

#### #4 Props に色んなデータを渡したり、Children を使ってみよう！

props に数値を渡す際は、クォーテーションを使わずに波括弧を使用します。例えば、about のコンポーネントでナンバーを 111 として渡す場合、数値は波括弧で囲みます。これにより、数値として扱われます。一方で、クォーテーションを使用すると文字列として扱われます。この違いはバグを引き起こす可能性があるため、注意が必要です。

props に配列を渡す場合は、波括弧の中に角括弧を入れて配列を定義します。例えば、[1, 2, 3]という配列を渡す場合、波括弧と角括弧を用いて表現します。

props にオブジェクトを渡す際も波括弧を使いますが、オブジェクトの定義は更に波括弧内に行います。例えば、{foo: "bar"}というオブジェクトを渡す場合、波括弧内にさらに波括弧を用いてオブジェクトを定義します。

真偽値を props として渡す場合、true や false と直接記述します。また、true を省略形で渡すことも可能です。省略形では、プロパティ名を記述するだけで true が渡されます。false を渡す場合は明示的に false を記述する必要があります。

JSX を props として渡す場合は、コンポーネントの開始タグと終了タグの間に JSX を記述します。これにより、子コンポーネントは props として受け取ることができます。

関数（メソッド）も props として渡すことができます。例えば、ボタンの onClick イベントで親から渡された関数を実行するように設定することができます。この方法で、親コンポーネントで定義された関数を子コンポーネントで利用することが可能です。

props の children を使う方法では、コンポーネントの開始タグと終了タグの間に配置された要素が自動的に children として渡されます。この方法は、特に名前を付けずにコンポーネントに渡される要素を扱うのに便利です。

最後に、不要なコードを削除してリファクタリングを行い、変更を GitHub にプッシュし、Vercel でデプロイします。これにより、コードの整理と更新が行われ、アプリケーションが最新の状態に保たれます。

props について詳しく見てきましたが、React 開発において非常に重要な概念ですので、しっかりとマスターしてください。次回の講座では React に関する他の重要なトピックを扱いますので、引き続きご視聴いただけると幸いです。次回の動画でお会いしましょう。バイバイ。

#### #5 CSS Modules を使うと CSS の管理が楽になる

この動画では、Next.js における CSS モジュールの利用方法について学びます。CSS モジュールは、Next.js に備わっている機能で、CSS の管理を容易にします。CSS モジュールの利点は、CSS の管理が非常にシンプルになることです。従来の CSS 管理では、クラス名が他の場所で再利用されることが多く、表示が崩れる可能性がありました。これを解決するために BEM（Block Element Modifier）のような命名規則が用いられてきましたが、CSS モジュールを使用することで、よりスマートにこの問題を解決できます。

Next.js では、.module.css という拡張子を使って CSS モジュールを作成します。これにより、クラス名が他のコンポーネントと衝突することなく、個別のスタイルを適用できます。CSS モジュールの使用例として、インデックスページやコンポーネントのスタイルがデモンストレーションされます。ここで、CSS モジュールのクラス名は JavaScript オブジェクトのように扱われ、コンポーネントにスタイルを適用する際には className 属性を使用します。

この動画では、CSS モジュールのリファクタリングも行います。各コンポーネントに関連するスタイルを個別の CSS モジュールファイルに分割し、コンポーネントのメンテナンス性と可読性を高めます。また、CSS モジュールでは、同じクラス名を異なるコンポーネントで使用しても、Next.js が各クラスに固有の識別子を割り当てるため、スタイルの衝突を回避できます。

さらに、Next.js でのグローバルスタイルの定義方法も説明されます。グローバルスタイルは、\_app.js で定義され、サイト全体に適用されます。これにより、コンポーネント固有のスタイルとグローバルスタイルを適切に分離し、管理を効率化できます。

最後に、変更を GitHub にプッシュし、Vercel を使ってデプロイするプロセスが紹介されます。これにより、学んだ内容を実際のプロジェクトに適用し、オンラインで公開する方法を理解できます。

#### #6 Link コンポーネントを使って高速なページ遷移を実現しよう！

この動画では、Next.js のリンクコンポーネントの使用方法とその利点について解説しています。通常、Web ページで画面遷移を制御する際には、`<a>`タグを使用しますが、Next.js ではリンクコンポーネントの使用が推奨されます。このコンポーネントを使うことで、ページ間のナビゲーションが高速になり、より良いユーザーエクスペリエンスを提供できます。

動画の初めに、インデックスページとアバウトページでの画面遷移のデモンストレーションがあります。その後、ヘッダーコンポーネントを作成し、インデックスとアバウトページにリンクを配置します。ここで、通常の`<a>`タグではなく、Next.js のリンクコンポーネントを使用する方法を説明しています。

Next.js のリンクコンポーネントの使用は、ページの再読み込みを防ぎ、ページ遷移を高速化するという大きな利点があります。また、リンクコンポーネントはプリフェッチ機能を有効にすることで、ユーザーがリンクにホバーした際に、次のページのデータをバックグラウンドで事前に読み込むことができます。これにより、ページ遷移時のパフォーマンスが向上します。

動画の後半では、リンクコンポーネントのスタイリング方法についても説明しています。ヘッダーコンポーネントにスタイルを適用し、リンクの見た目を改善します。また、Next.js 公式ドキュメントでリンクコンポーネントの詳細情報を得る方法も紹介されています。

最後に、変更を GitHub にプッシュし、Vercel を使ってデプロイするプロセスを実演しています。これにより、学んだ内容を実際のプロジェクトに適用し、オンラインで公開する方法を理解できます。

#### #7 コンポーネントを繰り返すときはmapをよく使います！

この動画では、ReactとNext.jsを使用した繰り返し処理の実装方法について学びます。通常、繰り返し処理にはforループが使われますが、Reactコンポーネントの繰り返しにはmap関数が用いられます。この動画では、map関数を使って複数のコンポーネントを効率的に繰り返し表示する方法を解説しています。

まず、複数のリンクを表示する例を通じて、繰り返し処理の基本的なアプローチを説明します。リンクのデータを配列に格納し、map関数を使ってそれぞれのリンクを効率的に生成します。このプロセスを通じて、データと処理を分離するリファクタリングの重要性を強調しています。

動画では、繰り返し処理の際にReactのkeyプロップスの重要性も説明しています。リストの各要素に一意のkeyを割り当てることで、Reactがコンポーネントの状態を正確に追跡できるようになります。

また、HTMLエンティティとReactの扱いについても解説されています。Reactでは、HTMLエンティティを文字列として表示する際に、エスケープ処理が必要である点を指摘しています。さらに、動的なHTMLエンティティを使用する際の対策方法についても説明しています。

最後に、変更内容をGitHubにプッシュし、Vercelを使ってデプロイするプロセスを実演しています。これにより、学んだ内容を実際のプロジェクトに適用し、オンラインで公開する方法を理解できます。

#### #8 jsとjsxどっち？ディレクトリ構成は何がいい？絶対パスインポートはどうやるの？_appってどう使うの？
この動画ではNext.jsを使用したリファクタリングの方法について詳しく説明されています。特に、ファイル拡張子の変更、ディレクトリ構造の最適化、相対パスから絶対パスへの変更など、コードの可読性と効率性を向上させるためのテクニックが紹介されています。

まず、.js拡張子を.jsxに変更することで、VS CodeがReactファイルとして認識し、適切なサポートを提供するようになると説明しています。これにより、開発者はReact特有の構文や機能を効率的に利用できるようになります。

ディレクトリ構造に関しては、components、pages、stylesなどのフォルダをsrcディレクトリにまとめることを提案しています。これにより、プロジェクトの構造が整理され、ファイルへのアクセスが容易になります。

また、相対パスから絶対パスへの変更についても詳しく説明しています。jsconfig.jsonファイルを設定することで、プロジェクト内の任意の場所からコンポーネントやスタイルを絶対パスで簡単にインポートできるようになると述べています。

さらに、_app.jsxファイルの重要性についても触れています。このファイルは、Next.jsプロジェクトにおいて、グローバルなスタイルやレイアウトを定義するのに適していると説明されています。例として、ファビコンや共通ヘッダー・フッターの設定を_app.jsxに統合する方法が示されています。

最後に、プロジェクトのリファクタリングが完了したら、変更をGitHubにプッシュし、Vercelでデプロイするプロセスが説明されています。

この動画は、ReactとNext.jsを使ったウェブ開発におけるリファクタリングのベストプラクティスを理解するのに役立つ内容です。

#### #9 クリックイベント（onClick）はどう扱う？メソッド（関数）の書く位置はどこがオススメ？
この動画では、Next.jsを使用したReactのイベント処理について説明されています。具体的には、ユーザーがボタンをクリックした際の処理方法に焦点を当てています。

まず、基本的なボタンの配置とonClickイベントの使用方法が紹介されます。ボタンにonClick属性を追加し、クリックされた際に実行される関数を定義することで、イベントハンドリングが実現されます。例として、クリック時にアラートを表示する簡単な関数が示されています。

次に、イベントオブジェクトの使用方法が説明されます。イベントオブジェクトを利用することで、例えばe.preventDefault()を使用してデフォルトのイベント動作を防止したり、e.targetを使用してイベント発生元の要素にアクセスする方法が解説されています。

また、異なる方法でイベントハンドラーを記述する方法も紹介されています。これには、コンポーネント内に直接関数を書く方法、コンポーネント外に関数を定義する方法、アロー関数を使用する方法などが含まれます。

さらに、useCallbackフックの使用が紹介されています。useCallbackを使用することで、コンポーネントが再レンダリングされても関数が再生成されないようにし、パフォーマンスの最適化を図ることができます。

最後に、変更内容をGitHubにプッシュし、Vercelでデプロイするプロセスが説明されています。

この動画は、Reactでのイベント処理の基本から、より高度なテクニックまでを網羅しており、Next.jsとReactを使用したウェブ開発において、イベントハンドリングの理解を深めるのに役立つ内容です。